# Notion转微信公众号Chrome插件 PRD

## 1. 产品概述

### 1.1 产品名称
Notion2WeChat - Notion文章转微信公众号格式化工具

### 1.2 产品定位
一款Chrome浏览器插件，帮助内容创作者将Notion中的文章一键转换为微信公众号可发布的格式，提升内容发布效率。

### 1.3 目标用户
- 使用Notion进行内容创作的公众号运营者
- 需要将Notion内容发布到微信公众号的内容创作者
- 希望提升内容发布效率的自媒体从业者

## 2. 核心功能需求

### 2.1 内容转换功能
- **格式转换**：将Notion页面内容转换为微信公众号兼容的HTML格式
- **样式优化**：自动调整字体、行距、段落间距等，确保在微信中良好显示
- **图片处理**：自动处理Notion中的图片，适配微信公众号显示要求
- **代码块格式化**：将Notion代码块转换为微信友好的格式
- **表格转换**：将Notion表格转换为微信公众号兼容格式

### 2.2 主题样式功能
- **预设主题**：提供多种文章主题模板（简约、商务、文艺等）
- **自定义样式**：支持用户自定义字体、颜色、间距等样式参数
- **预览功能**：实时预览转换后的文章效果

### 2.3 辅助功能
- **一键复制**：转换完成后一键复制格式化内容
- **临时图床**：提供图片临时存储服务，解决微信图片上传问题
- **内容检查**：检查转换后的内容是否存在格式问题
- **导出功能**：支持导出为HTML、Markdown等格式

## 3. 用户流程

### 3.1 安装流程
1. 用户从Chrome Web Store下载安装插件
2. 首次使用时进行简单设置（选择默认主题等）

### 3.2 使用流程
1. 用户在Notion中打开要转换的文章页面
2. 点击页面右侧的插件图标，展开边栏面板
3. 选择主题样式（首次使用时设置）
4. 点击"生成"按钮，自动转换页面内容
5. 在边栏中预览转换后的效果
6. 点击"发布"按钮，复制内容并自动打开公众号后台
7. 在微信公众号编辑器中粘贴内容

## 4. 技术需求

### 4.1 插件架构
- **Manifest V3**：使用最新的Chrome插件标准
- **TypeScript开发**：全项目使用TypeScript确保代码质量
- **Content Script**：在Notion页面中注入侧边栏UI，获取页面Markdown内容
- **Background Service**：处理图片URL转换和Markdown渲染逻辑
- **侧边栏界面**：提供主题选择、生成、预览、发布功能

### 4.2 数据处理
- **内容解析**：解析Notion页面的DOM结构，提取Markdown内容和图片
- **格式转换**：使用TypeScript + Markdown渲染器转换为微信公众号兼容的HTML
- **图片处理**：处理Notion内部图片URL，转换为可访问链接
- **类型安全**：使用TypeScript接口定义数据结构，确保类型安全

### 4.3 存储需求
- **本地存储**：保存用户设置、主题偏好等
- **构建工具**：Vite + pnpm

## 5. 非功能性需求

### 5.1 性能要求
- 转换速度：单个页面转换时间不超过3秒
- 内存占用：插件运行时内存占用不超过50MB

### 5.2 兼容性要求
- 浏览器兼容：支持Chrome 88+版本
- Notion兼容：支持Notion桌面版和Web版

### 5.3 用户体验要求
- 界面简洁：操作界面直观易懂
- 响应迅速：用户操作反馈及时
- 错误处理：提供友好的错误提示和处理方案

## 6. 版本规划

### 6.1 MVP版本 (v1.0)
- 基础内容转换功能
- 1个基础主题样式
- 一键复制功能
- 图片URL直接转换（不涉及图床上传）
- 仅支持Chrome浏览器

### 6.2 基础版本 (v1.5)
- 多种主题样式
- 图片处理功能
- 预览功能

### 6.3 完整版本 (v2.0)
- 临时图床服务
- 自定义样式功能
- 导出功能
- 用户设置同步

## 7. 风险评估

### 7.1 技术风险
- Notion页面结构变化可能影响内容解析
- 微信公众号格式要求变化可能影响转换效果

### 7.2 应对策略
- 建立Notion页面结构监控机制
- 定期更新转换逻辑以适应微信变化
- 提供多种转换选项以增强兼容性

## 8. 成功指标

### 8.1 用户指标
- 日活跃用户数
- 用户留存率
- 转换成功率

### 8.2 功能指标
- 平均转换时间
- 错误率
- 用户满意度